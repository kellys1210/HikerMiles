<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../public/css/app.css" />
    <title>Patron Parks</title>
  </head>
  <body>
    <header>
      <img class="headerImg" src="../public/img/pexels-robbymccullough-1867601.jpg" />
      Hiker Miles Program
    </header>
    <nav class="pageLinks">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="patrons.html">Patron Directory</a></li>
        <li><a href="rewards_points.html">Rewards</a></li>
        <li><a href="parks.html">Park Directory</a></li>
        <li><a href="trails.html">Trail Directory</a></li>
        <li><a href="brain_implants.html">Brain Implant Directory</a></li>
        <li><a href="patron_parks.html">Patron Park Visit History</a></li>
        <li><a href="patron_trails.html">Patron Trail Visit History</a></li>
      </ul>
    </nav>

    <h1>Patron Parks</h1>

    <div class="dataTable">
      <table>
        <tr>
          <th>Patron Name</th>
          <th>Park Name</th>
          <th>Visit Count</th>
          <th>Edit</th>
          <th>Delete?</th>
        </tr>
        <tr>
          <td>James Jimenez</td>
          <td>Grand Canyon National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>April Singleton</td>
          <td>Yosemite National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Jay Spears</td>
          <td>Yellowstone National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Bradley Barrett</td>
          <td>Great Smoky Mountains National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Lauren Barajas</td>
          <td>Zion National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>James Jimenez</td>
          <td>Yellowstone National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>April Singleton</td>
          <td>Grand Canyon National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Jay Spears</td>
          <td>Yosemite National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Bradley Barrett</td>
          <td>Zion National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
        <tr>
          <td>Lauren Barajas</td>
          <td>Great Smoky Mountains National Park</td>
          <td>1</td>
          <td><button
            onclick="editPatronPark()">Edit</button></td>
          <td><button
            onclick="deletePatronPark()">Delete</button></td>
        </tr>
      </table>
    </div>

    <!-- Insert Form -->
    <div id="add-PatronParks">
      <p>To add a new Patron Parks, please enter the details below and click 'Submit'!</p>
      <form id="patronparks-insert">
        <label for="patron_name">Patron Name:*</label>
        <select id="patron_name" required>
          <option value="" disabled selected>Select a patron</option>
          <option>James Jimenez</option>
          <option>April Singleton</option>
          <option>Jay Spears</option>
          <option>Bradley Barrett</option>
          <option>Lauren Barajas</option>
        </select>

        <label for="park_name">Park Name:*</label>
        <select id="park_name" required>
          <option value="" disabled selected>Select a park</option>
          <option>Yellowstone National Park</option>
          <option>Grand Canyon National Park</option>
          <option>Yosemite National Park</option>
          <option>Zion National Park</option>
          <option>Great Smoky Mountains National Park</option>
        </select>

        <label for="visit_count">Visit Count:*</label>
        <input type="number" placeholder="1, 2, 3..." required />
        <input type="submit" value="Add New Visit" />
      </form>
    </div>

    <script>
      document.getElementById("patronparks-insert").addEventListener("submit", function(e) {
        e.preventDefault();
        alert("Entry Added!");
        location.reload();
      });

      function deletePatronPark() {
        if (window.confirm(
          "Do you really want to delete this record? This cannot be undone. Click 'OK' to continue with deleting this record."
        )){alert("Entry deleted!");}
      }

      function editPatronPark() {
        let editForm = document.getElementById("add-PatronParks");

        editForm.innerHTML = `
          <p>To edit a Patron Parks visit, please enter the details below and click 'Save Changes'!</p>
          <form id="edit-form">
            <label for="patron_name">Patron Name:*</label>
            <select id="patron_name" required>
              <option value="" disabled selected>Select a patron</option>
              <option>James Jimenez</option>
              <option>April Singleton</option>
              <option>Jay Spears</option>
              <option>Bradley Barrett</option>
              <option>Lauren Barajas</option>
            </select>

            <label for="park_name">Park Name:*</label>
            <select id="park_name" required>
              <option value="" disabled selected>Select a park</option>
              <option>Yellowstone National Park</option>
              <option>Grand Canyon National Park</option>
              <option>Yosemite National Park</option>
              <option>Zion National Park</option>
              <option>Great Smoky Mountains National Park</option>
            </select>

            <label for="visit_count">Visit Count:*</label>
            <input type="number" placeholder="1, 2, 3..." required />
            <button type="submit">Save Changes</button>
            <button type="button" onclick="cancelEdit()">Cancel</button>
          </form>
        `;

        document.getElementById("edit-form").addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Entry Updated!");
          location.reload();
        });
      }

      function cancelEdit() {
        location.reload();
      }
    </script>
   
  </body>
</html>
